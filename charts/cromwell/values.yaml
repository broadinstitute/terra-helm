# What version of Cromwell to deploy
global:
  # What version of the application to deploy
  applicationVersion: latest
  # A map of addresses that will be merged with serviceAllowedAddresses. Example: `{ "nickname": ["x.x.x.x/y", "x.x.x.x/y"] }`
  trustedAddresses: {}

# Cromwell is can be run in multiple deployments; this key contains default
# settings for all deployments configured under the `deployments` key
#
deploymentDefaults:
  enabled: true  # Whether a declared deployment is enabled. If false, no resources will be created
  name: null     # Set separately in each deployment. Eg. "cromwell1-reader"
  imageTag: null # Defaults to global.applicationVersion
  replicas: 0    # Number of replicas
  expose: false  # Whether to create a service for this deployment
  serviceName: null  # What to call the service
  serviceIP: null    # Static IP to use for the Service. If set, service will be of type LoadBalancer
  serviceAllowedAddresses: {} # What source IPs to whitelist for access to the service
  # legacyResourcePrefix: null # What prefix to use to refer to secrets rendered from firecloud-develop. Defaults to `name`

# A map of Cromwell deployments. In Terra's production environment,
# Cromwell is deployed as 4 separate services with different configurations.
#
# Here, we configure it as a single standalone deployment, similar to how a
# developer might run Cromwell.
deployments:
  standalone:
    name: cromwell
    replicas: 1
    expose: true
    serviceName: cromwell
