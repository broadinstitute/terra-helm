# Set default values on chart from elastic.co
elasticsearch:

  image: "docker.elastic.co/elasticsearch/elasticsearch-oss"

  podSecurityPolicy:
    create: true

  rbac:
    create: true
  
  # same as GCE VMS
  esJavaOpts: "-Xms3500m -Xmx3500m"

  #set resources to be same as GCEs
  resources:
    requests:
      cpu: 2
      memory: 8Gi
    limits:
      cpu: 2
      memory: 8Gi
  
  # Used to enable JVM heap mem locking
  extraVolumes:
    - name: es-memory-cm
      configMap:
        namme: es-memory-cm

  extraVolumeMounts:
    - name: es-memory-cm
      mountPath: /etc/security/limits.conf
      subPath: limits.conf
      readOnly: true

  esConfig:
    elasticsearch.yml: |
      bootstrap:
        memory_lock: true
      http:
        cors:
          enabled: true
          allow-origin: '*'
      reindex:
        remote:
          whitelist: elasticsearch5a1.dsde-dev.broadinstitute.org:9200
    