# sherlock

![Version: 0.2.0](https://img.shields.io/badge/Version-0.2.0-informational?style=flat-square) ![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square)

Chart for Sherlock - DSP's environment tracking and management service

## Source Code

* <https://github.com/broadinstitute/terra-helm/tree/master/charts>
* <https://github.com/broadinstitute/sherlock>

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| affinity | object | `{}` | affinity map |
| annotations | object | `{}` |  |
| config | object | `nil` | Required; contents of revere.yaml to be given to the application |
| global.applicationVersion | string | `"latest"` | (string) What version of the application to deploy |
| imageConfig.imagePullPolicy | string | `"Always"` | (string) When to pull images |
| imageConfig.repository | string | `"us-central1-docker.pkg.dev/dsp-artifact-registry/sherlock/server"` | (string) Image repository |
| imageConfig.tag | string | `nil` | Image tag |
| ingress.cert.preSharedCerts | list | `[]` | (list) pre provisioned tls certs to use on the load balancer |
| ingress.certmanager.enabled | bool | `true` | (bool) Whether to use cert-manager for tls credentials |
| ingress.domain.hostname | string | `"sherlock"` |  |
| ingress.domain.suffix | string | `"dsp-devops.broadinstitute.org"` |  |
| ingress.enabled | bool | `true` | Whether to create Ingress, Service and associated config resources |
| ingress.iap.enabled | bool | `true` |  |
| ingress.requestPath | string | `"/api/v1/metrics"` | (string) url path to use for load balancer health checks |
| ingress.securityPolicy | string | `nil` | Name of a GCP Cloud Armor security policy |
| ingress.sslPolicy | string | `nil` | Name of a GCP SSL policy to associate with the Ingress |
| ingress.staticIpName | string | `nil` | Required. Name of the static IP, allocated in GCP, to associate with the Ingress |
| ingress.timeoutSec | int | `120` |  |
| name | string | `"sherlock"` | (string) Name of the application being deployed to template into manifests |
| nodeSelector | object | `{}` | nodeSelector map |
| probes.liveness.enabled | bool | `false` | (boolean) If the liveness probe should be enabled |
| probes.liveness.spec | object | `nil` | Spec for the liveness probe |
| probes.readiness.enabled | bool | `false` | (boolean) If the readiness probe should be enabled |
| probes.readiness.spec | object | `nil` | Spec for the readiness probe |
| replicas | int | `1` | (number) Number of sherlock pods to run |
| resources.limits.cpu | string | `"500m"` | (string) Number of CPU units to limit the deployment to |
| resources.limits.memory | string | `"4Gi"` | (string) Memory to limit the deployment to |
| resources.requests.cpu | string | `"500m"` | (string) Number of CPU units to request for the deployment |
| resources.requests.memory | string | `"4Gi"` | (string) Memory to request for the deployment |
| secrets.gcpServiceAccount.workloadIdentity.accountName | string | `""` | (string) ID of the GCP SA to use |
| secrets.gcpServiceAccount.workloadIdentity.enabled | bool | `true` | (bool) Whether to use WI for auth to google apis |
| secrets.gcpServiceAccount.workloadIdentity.projectID | string | `""` | (string) ID of GCP project containing WI SA. |
| sqlproxy.version | string | `"latest"` | (string) Version of the GCP cloudsql proxy to use |
| startupSleep | string | `"10"` | (string) Length of sleep to account for sqlproxy startup |
| tolerations | list | `[]` | Array of tolerations |
| vault.enabled | bool | `true` | (bool) Whether to use vault/secrets-manager to secrets |
| vault.pathPrefix | string | `""` | (string) base path in vault containing sherlock's secrets |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.5.0](https://github.com/norwoodj/helm-docs/releases/v1.5.0)
