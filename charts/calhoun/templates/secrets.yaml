{{ if .Values.vault.enabled }}
{{- if .Values.proxy.tcell.enabled }}
apiVersion: secrets-manager.tuenti.io/v1alpha1
kind: SecretDefinition
metadata:
  name: {{ .Values.name }}-proxy-tcell-secrets
  labels:
    {{- include "calhoun.labels" . | nindent 4 }}
spec:
  name: {{ .Values.name }}-proxy-tcell-secrets
  keysMap:
    app-id:
      path: {{ .Values.proxy.tcell.vaultPrefix }}/tcell_app_id
      key: tcell_app_id
    api-key:
      path: {{ .Values.proxy.tcell.vaultPrefix }}/tcell_api_key
      key: tcell_api_key
{{- end }}
{{ end }}
