terra-prometheus
================
a helm chart to deploy monitoring infrastructure

Current chart version is `0.1.1`



## Chart Requirements

| Repository | Name | Version |
|------------|------|---------|
| https://kubernetes-charts.storage.googleapis.com/ | prometheus-operator | 8.15.6 |

## Chart Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| argoCd.namespaceOverride | string | `""` | (string) enables installing to monitoring namespace when deployed as dependency via argoCd |
| certManager.enabled | bool | `false` | (bool) Use tls credentials generated by cert-manager via lets encrypt |
| certManager.issuerKind | string | `"ClusterIssuer"` |  |
| certManager.issuerName | string | `"cert-manager-letsencrypt-prod"` | (string) Name of the Issuer or ClusterIssuer resource that will be used to obtain the tls certificate |
| certManager.renewBefore | string | `"720h"` | (string) Time before expiration when cert-manager will auto renew tls. Default is 30 days. Must be specified in hours |
| prometheus-operator.fullnameOverride | string | `"terra-prometheus-operator"` |  |
| prometheus-operator.namespaceOverride | string | `""` | (string) For use with argocd to ensure prometheus resources are installed to monitoring namespace |
| prometheus-operator.prometheus.ingress.annotations | object | `{"kubernetes.io/ingress.allow-http":"false","kubernetes.io/ingress.global-static-ip-name":null}` | annotations to attache to prometheus ingress resource. |
| prometheus-operator.prometheus.ingress.enabled | bool | `true` | expose prometheus web ui through gke ingress |
| prometheus-operator.prometheus.ingress.hosts | list | `[]` | ([string]) List of domain host(s) that the ingress should be accessible from  |
| prometheus-operator.prometheus.ingress.paths[0] | string | `"/*"` |  |
| prometheus-operator.prometheus.ingress.tls | list | `[{"secretName":"terra-prometheus-cert"}]` | ([string]) List of k8s secret names containing tls credentials. |
| prometheus-operator.prometheus.prometheusSpec.containers | [object] | `nil` | Used to inject the stackdriver exporter into prometheus pods. |
| prometheus-operator.prometheus.prometheusSpec.externalUrl | string | `nil` | URL at which prometheus UI will be available. |
| prometheus-operator.prometheus.service.annotations | object | `{"cloud.google.com/backend-config":null}` | (object) Used for attaching backend-config resources to prometheus service  |
| prometheus-operator.prometheus.service.type | string | `"NodePort"` | (string) Service type for prometheus, must be NodePort for ingress to work. |
| prometheus-operator.prometheusOperator.createCustomResource | bool | `false` |  |
| vaultCert.cert.path | string | `nil` | Path to secret containing .crt |
| vaultCert.cert.secretKey | string | `nil` | Key in secret containing .crt |
| vaultCert.chain.path | string | `nil` | Path to secret containing intermediate .crt |
| vaultCert.chain.secretKey | string | `nil` | Key in secret containing intermediate .crt |
| vaultCert.enabled | bool | `false` | Enable to sync certificate secret from Vault with secrets-manager |
| vaultCert.key.path | string | `nil` | Path to secret containing .key |
| vaultCert.key.secretKey | string | `nil` | Key in secret containing .key |
