terra-prometheus
================
a helm chart to deploy monitoring infrastructure

Current chart version is `0.4.0`



## Chart Requirements

| Repository | Name | Version |
|------------|------|---------|
| https://prometheus-community.github.io/helm-charts/ | kube-prometheus-stack | 9.3.4 |

## Chart Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| certManager.dnsNames | list | `[]` |  |
| certManager.enabled | bool | `false` | (bool) Use tls credentials generated by cert-manager via lets encrypt |
| certManager.issuerKind | string | `"ClusterIssuer"` |  |
| certManager.issuerName | string | `"cert-manager-letsencrypt-prod"` | (string) Name of the Issuer or ClusterIssuer resource that will be used to obtain the tls certificate |
| certManager.renewBefore | string | `"720h"` | (string) Time before expiration when cert-manager will auto renew tls. Default is 30 days. Must be specified in hours |
| enableCronjobAlerts | bool | `true` | (bool) flag to disable alerting on failed cronjob runs in a terra environment. |
| kube-prometheus-stack.fullnameOverride | string | `"terra-prometheus-operator"` |  |
| kube-prometheus-stack.namespaceOverride | string | `""` |  |
| kube-prometheus-stack.prometheus.ingress.annotations."kubernetes.io/ingress.allow-http" | string | `"false"` |  |
| kube-prometheus-stack.prometheus.ingress.annotations."kubernetes.io/ingress.global-static-ip-name" | string | `nil` |  |
| kube-prometheus-stack.prometheus.ingress.enabled | bool | `true` |  |
| kube-prometheus-stack.prometheus.ingress.hosts | list | `[]` |  |
| kube-prometheus-stack.prometheus.ingress.paths[0] | string | `"/*"` |  |
| kube-prometheus-stack.prometheus.ingress.tls[0].secretName | string | `"terra-prometheus-cert"` |  |
| kube-prometheus-stack.prometheus.prometheusSpec.containers | string | `nil` |  |
| kube-prometheus-stack.prometheus.prometheusSpec.externalUrl | string | `nil` |  |
| kube-prometheus-stack.prometheus.service.annotations."cloud.google.com/backend-config" | string | `nil` |  |
| kube-prometheus-stack.prometheus.service.type | string | `"NodePort"` |  |
| kube-prometheus-stack.prometheusOperator.createCustomResource | bool | `false` |  |
| namespaceOverride | string | `""` | (string) enables installing to monitoring namespace when deployed as dependency via argoCd |
| prometheusRuleSelector | string | `"prometheus-operator"` | (string) used to create a label that prometheus selcts to determine which rules to alert on |
| vaultCert.cert.path | string | `nil` | Path to secret containing .crt |
| vaultCert.cert.secretKey | string | `nil` | Key in secret containing .crt |
| vaultCert.chain.path | string | `nil` | Path to secret containing intermediate .crt |
| vaultCert.chain.secretKey | string | `nil` | Key in secret containing intermediate .crt |
| vaultCert.enabled | bool | `false` | Enable to sync certificate secret from Vault with secrets-manager |
| vaultCert.key.path | string | `nil` | Path to secret containing .key |
| vaultCert.key.secretKey | string | `nil` | Key in secret containing .key |
