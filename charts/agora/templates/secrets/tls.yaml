apiVersion: secrets-manager.tuenti.io/v1alpha1
kind: SecretDefinition
metadata:
  name: {{ .Chart.Name }}-tls-secretdefinition
  labels:
{{ include "agora.labels" . | indent 4 }}
spec:
  name: {{ .Chart.Name }}-tls-secret
  keysMap:
    tls.crt:
      path: {{ required "A valid secrets.tls.cert.vaultPath value is required"  .Values.secrets.tls.cert.vaultPath }}
      key: {{ required "A valid secrets.tls.cert.vaultKey value is required"  .Values.secrets.tls.cert.vaultKey }}
    tls.key:
      path: {{ required "A valid secrets.tls.key.vaultPath value is required"  .Values.secrets.tls.key.vaultPath }}
      key: {{ required "A valid secrets.tls.key.vaultKey value is required"  .Values.secrets.tls.key.vaultKey }}
