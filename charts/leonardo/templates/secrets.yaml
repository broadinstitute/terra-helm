apiVersion: secrets-manager.tuenti.io/v1alpha1
kind: SecretDefinition
metadata:
  name: secretdefinition-leonardo-mysql-db-creds
  labels: {}
spec:
  name: leonardo-db-creds
  keysMap:
    username:
      path: {{ .Values.vault.pathPrefix }}/secrets
      key: db_user
    password:
      path: {{ .Values.vault.pathPrefix }}/secrets
      key: db_password
---
apiVersion: secrets-manager.tuenti.io/v1alpha1
kind: SecretDefinition
metadata:
  name: leonardo-sa
  labels: {}
spec:
  name: leonardo-sa
  keysMap:
    service-account.json:
      path: {{ .Values.vault.pathPrefix }}/leonardo-account.json
      encoding: base64
      key: key