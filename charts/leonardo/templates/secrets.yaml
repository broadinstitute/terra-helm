apiVersion: secrets-manager.tuenti.io/v1alpha1
kind: SecretDefinition
metadata:
  name: secretdefinition-leonardo-mysql-db-creds
  labels:
    {{ template "leonardo.labels" . }}
spec:
  name: leonardo-db-creds
  keysMap:
    username:
      path: {{ .Values.vault.pathPrefix }}/leonardo/secrets # TODO: does this render json properly? will this be available as environment variable once app is deployed?
      key: db_user
    password:
      path: {{ .Values.vault.pathPrefix }}/leonardo/secrets
      key: db_password