apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Chart.Name }}-inputs
  namespace: {{ .Release.Namespace }}
  labels:
{{ include "filebeat.labels" . | indent 4 }}
data:
  kubernetes.yml: |-
    - type: docker
      containers.ids:
      - "*"
      processors:
        - add_kubernetes_metadata:
            in_cluster: true
        - drop_event:
            when:
              equals:
                kubernetes.namespace: "kube-system"